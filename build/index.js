(()=>{"use strict";const e=window.wp.blocks,i=window.wp.i18n,a=window.wp.blockEditor,l=window.wp.components,t=window.ReactJSXRuntime,o=["image/png","image/jpeg","image/vnd.radiance","model/gltf-binary","model/obj","application/octet-stream","model/vnd.usdz+zip"],n=JSON.parse('{"UU":"ultimate-3d-model-viewer/block","Kk":"games","DD":"Ultimate 3D Model Viewer","L1":"3d","uK":{"src":{"type":"string"},"poster":{"type":"string"},"environment":{"type":"string"},"skybox":{"type":"string"},"toneMapping":{"type":"string","default":"neutral"},"exposure":{"type":"number","default":1.5},"shadowIntensity":{"type":"number","default":0},"shadowSoftness":{"type":"number","default":0},"cameraOrbit":{"type":"string"},"maxCameraOrbit":{"type":"string"},"minCameraOrbit":{"type":"string"},"cameraTarget":{"type":"string"},"fieldOfView":{"type":"string","default":"auto"},"maxFieldOfView":{"type":"string","default":"auto"},"minFieldOfView":{"type":"string","default":"25deg"},"loading":{"type":"string","default":"auto"},"autoRotate":{"type":"boolean","default":false},"ar":{"type":"boolean","default":false},"iosSrc":{"type":"string"}}}');(0,e.registerBlockType)(n.UU,{title:n.DD,icon:n.Kk,category:n.L1,attributes:n.uK,edit:function({attributes:e,setAttributes:n}){const r=(0,a.useBlockProps)(),d=e=>i=>{n({[e]:i.url})};return(0,t.jsxs)("div",{...r,children:[(0,t.jsxs)(a.InspectorControls,{children:[(0,t.jsx)(l.Panel,{children:(0,t.jsx)(l.PanelBody,{title:(0,i.__)("src","ultimate-3d-model-viewer"),children:(0,t.jsx)(a.MediaUploadCheck,{children:(0,t.jsx)(a.MediaUpload,{allowedTypes:o,render:({open:a})=>(0,t.jsxs)("div",{children:[e.src&&(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:e.src.split("/").pop()})}),(0,t.jsx)(l.Button,{onClick:a,children:(0,i.__)("Select a .glb, .fbx or .obj file","ultimate-3d-model-viewer")})]}),onSelect:d("src")})})})}),(0,t.jsx)(l.Panel,{children:(0,t.jsx)(l.PanelBody,{title:(0,i._x)("poster","block poster","ultimate-3d-model-viewer"),initialOpen:!1,children:(0,t.jsx)(a.MediaUploadCheck,{children:(0,t.jsx)(a.MediaUpload,{allowedTypes:o,render:({open:a})=>(0,t.jsxs)("div",{children:[e.poster&&(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:e.poster.split("/").pop()})}),(0,t.jsx)(l.Button,{onClick:a,children:(0,i._x)("Select a poster image (JPG or PNG)","block poster hint","ultimate-3d-model-viewer")})]}),onSelect:d("poster")})})})}),(0,t.jsx)(l.Panel,{children:(0,t.jsx)(l.PanelBody,{title:(0,i.__)("environment","ultimate-3d-model-viewer"),initialOpen:!1,children:(0,t.jsx)(a.MediaUploadCheck,{children:(0,t.jsx)(a.MediaUpload,{allowedTypes:o,render:({open:a})=>(0,t.jsxs)("div",{children:[e.environment&&(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:e.environment.split("/").pop()})}),(0,t.jsx)(l.Button,{onClick:a,children:(0,i.__)("Select an .hdr environment image","ultimate-3d-model-viewer")})]}),onSelect:d("environment")})})})}),(0,t.jsx)(l.Panel,{children:(0,t.jsx)(l.PanelBody,{title:(0,i.__)("skybox","ultimate-3d-model-viewer"),initialOpen:!1,children:(0,t.jsx)(a.MediaUploadCheck,{children:(0,t.jsx)(a.MediaUpload,{allowedTypes:o,render:({open:a})=>(0,t.jsxs)("div",{children:[e.skybox&&(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:e.skybox.split("/").pop()})}),(0,t.jsx)(l.Button,{onClick:a,children:(0,i.__)("Select a skybox image (JPG or PNG)","ultimate-3d-model-viewer")})]}),onSelect:d("skybox")})})})}),(0,t.jsx)(l.Panel,{children:(0,t.jsx)(l.PanelBody,{title:(0,i.__)("tone mapping","ultimate-3d-model-viewer"),initialOpen:!1,children:(0,t.jsx)(l.SelectControl,{label:(0,i.__)("tone mapping","ultimate-3d-model-viewer"),value:e.toneMapping,options:[{label:"neutral",value:"neutral"},{label:"aces",value:"aces"},{label:"agx",value:"agx"},{label:"reinhard",value:"reinhard"},{label:"cineon",value:"cineon"},{label:"linear",value:"linear"},{label:"none",value:"none"}],onChange:e=>n({toneMapping:e})})})}),(0,t.jsx)(l.Panel,{children:(0,t.jsx)(l.PanelBody,{title:(0,i.__)("exposure","ultimate-3d-model-viewer"),initialOpen:!1,children:(0,t.jsx)(l.RangeControl,{label:(0,i.__)("exposure","ultimate-3d-model-viewer"),value:e.exposure,onChange:e=>n({exposure:e}),min:1,max:10,step:.01})})}),(0,t.jsx)(l.Panel,{children:(0,t.jsxs)(l.PanelBody,{title:(0,i.__)("shadows","ultimate-3d-model-viewer"),initialOpen:!1,children:[(0,t.jsx)(l.RangeControl,{label:(0,i.__)("shadow intensity","ultimate-3d-model-viewer"),value:e.shadowIntensity,onChange:e=>n({shadowIntensity:e}),min:0,max:1,step:.01}),(0,t.jsx)(l.RangeControl,{label:(0,i.__)("shadow softness","ultimate-3d-model-viewer"),value:e.shadowSoftness,onChange:e=>n({shadowSoftness:e}),min:0,max:1,step:.01})]})}),(0,t.jsx)(l.Panel,{children:(0,t.jsxs)(l.PanelBody,{title:(0,i.__)("camera options","ultimate-3d-model-viewer"),initialOpen:!1,children:[(0,t.jsx)(l.TextControl,{label:(0,i.__)("Camera Orbit","ultimate-3d-model-viewer"),placeholder:(0,i.__)("Enter 3 value camera orbit (e.g., 0deg 75deg 105%)","ultimate-3d-model-viewer"),value:e.cameraOrbit,onChange:e=>n({cameraOrbit:e})}),(0,t.jsx)(l.TextControl,{label:(0,i.__)("Max Camera Orbit","ultimate-3d-model-viewer"),placeholder:(0,i.__)("Enter 3 value maximum camera orbit (e.g., Infinity 180deg auto)","ultimate-3d-model-viewer"),value:e.maxCameraOrbit,onChange:e=>n({maxCameraOrbit:e})}),(0,t.jsx)(l.TextControl,{label:(0,i.__)("Min Camera Orbit","ultimate-3d-model-viewer"),placeholder:(0,i.__)("Enter 3 value minimum camera orbit (e.g., -Infinity 0deg auto)","ultimate-3d-model-viewer"),value:e.minCameraOrbit,onChange:e=>n({minCameraOrbit:e})}),(0,t.jsx)(l.TextControl,{label:(0,i.__)("Camera Target","ultimate-3d-model-viewer"),placeholder:(0,i.__)("Enter 3 value camera target (e.g., 0m 1.5m -0.5m)","ultimate-3d-model-viewer"),value:e.cameraTarget,onChange:e=>n({cameraTarget:e})}),(0,t.jsx)(l.TextControl,{label:(0,i.__)("Field of view","ultimate-3d-model-viewer"),placeholder:(0,i.__)("Enter field of view (e.g., 30deg)","ultimate-3d-model-viewer"),value:e.fieldOfView,onChange:e=>n({fieldOfView:e})}),(0,t.jsx)(l.TextControl,{label:(0,i.__)("Max Field of view","ultimate-3d-model-viewer"),placeholder:(0,i.__)("Enter maximum field of view (e.g., 30deg)","ultimate-3d-model-viewer"),value:e.maxFieldOfView,onChange:e=>n({maxFieldOfView:e})}),(0,t.jsx)(l.TextControl,{label:(0,i.__)("Min Field of view","ultimate-3d-model-viewer"),placeholder:(0,i.__)("Enter minimum field of view (e.g., 25deg)","ultimate-3d-model-viewer"),value:e.minFieldOfView,onChange:e=>n({minFieldOfView:e})})]})}),(0,t.jsx)(l.Panel,{children:(0,t.jsx)(l.PanelBody,{title:(0,i.__)("loading","ultimate-3d-model-viewer"),initialOpen:!1,children:(0,t.jsx)(l.SelectControl,{label:(0,i.__)("loading strategy","ultimate-3d-model-viewer"),value:e.loading,options:[{label:"auto",value:"auto"},{label:"lazy",value:"lazy"},{label:"eager",value:"eager"}],onChange:e=>n({loading:e})})})}),(0,t.jsx)(l.Panel,{children:(0,t.jsx)(l.PanelBody,{title:(0,i.__)("auto rotate","ultimate-3d-model-viewer"),initialOpen:!1,children:(0,t.jsx)(l.ToggleControl,{label:(0,i.__)("Auto rotation","ultimate-3d-model-viewer"),checked:e.autoRotate,onChange:e=>n({autoRotate:e})})})}),(0,t.jsx)(l.Panel,{children:(0,t.jsxs)(l.PanelBody,{title:(0,i.__)("augmented reality","ultimate-3d-model-viewer"),initialOpen:!1,children:[(0,t.jsx)(l.ToggleControl,{label:(0,i.__)("Enable augmented reality","ultimate-3d-model-viewer"),checked:e.ar,onChange:e=>n({ar:e})}),(0,t.jsx)(a.MediaUploadCheck,{children:(0,t.jsx)(a.MediaUpload,{onSelect:d("iosSrc"),allowedTypes:o,render:({open:a})=>(0,t.jsxs)("div",{children:[e.iosSrc&&(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:e.iosSrc.split("/").pop()})}),(0,t.jsx)(l.Button,{onClick:a,children:(0,i.__)("Select a special ios usdz file for the model in ar mode","ultimate-3d-model-viewer")})]})})})]})})]}),(0,t.jsx)("model-viewer",{class:"model-viewer",src:e.src,poster:e.poster,"environment-image":e.environment,"skybox-image":e.skybox,"tone-mapping":e.toneMapping,exposure:e.exposure,"shadow-intensity":e.shadowIntensity,"shadow-softness":e.shadowSoftness,"camera-orbit":e.cameraOrbit,"max-camera-orbit":e.maxCameraOrbit,"min-camera-orbit":e.minCameraOrbit,"camera-target":e.cameraTarget,"field-of-view":e.fieldOfView,"max-field-of-view":e.maxFieldOfView,"min-field-of-view":e.minFieldOfView,loading:e.loading,"auto-rotate":e.autoRotate,ar:e.ar,"touch-action":"pan-y","ios-src":e.iosSrc,"camera-controls":!0,autoplay:!0})]})},save:function({attributes:e}){const i=a.useBlockProps.save();return(0,t.jsxs)("model-viewer",{class:"model-viewer",...i,src:e.src,poster:e.poster,"environment-image":e.environment,"skybox-image":e.skybox,"tone-mapping":e.toneMapping,exposure:e.exposure,"shadow-intensity":e.shadowIntensity,"shadow-softness":e.shadowSoftness,"camera-orbit":e.cameraOrbit,"max-camera-orbit":e.cameraMaxOrbit,"min-camera-orbit":e.cameraMinOrbit,"camera-target":e.cameraTarget,"field-of-view":e.fieldOfView,"max-field-of-view":e.fieldOfViewMax,"min-field-of-view":e.fieldOfViewMin,loading:e.loading,...e.autoRotate&&{"auto-rotate":""},...e.ar&&{ar:""},...e.ar&&{"ar-modes":"webxr scene-viewer quick-look"},"ios-src":e.iosSrc,"interaction-prompt":"auto","touch-action":"pan-y","camera-controls":"",autoplay:!0,children:[(0,t.jsx)("div",{id:"progress-text",children:"Loading 0%"}),(0,t.jsx)("div",{class:"progress-bar hide",children:(0,t.jsx)("div",{class:"update-bar"})})]})}})})();